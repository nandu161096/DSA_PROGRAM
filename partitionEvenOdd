#include <stdio.h>

void printArray(int a[], int n) {
    for (int i = 0; i < n; i++)
        printf("%d ", a[i]);
    printf("\n");
}

void partitionEvenOdd(int arr[],int n) {
    int l = 0, r = n-1;
    
    while(l < r) {
        while (l < r && arr[l] % 2 == 0)
            l++;

        while (l < r && arr[r] % 2 != 0)
            r--;
        
        if(l < r) {
            int t = arr[l];
            arr[l] = arr[r];
            arr[r] = t;
        }
        printf("l %d r %d\n",l,r);
        printArray(arr,n);
    }
}

int main() {
    int a[] = {1, 17, 70, 60, 22, 65, 21, 90};
    int n = sizeof(a) / sizeof(a[0]);

    printf("Before partition:\n");
    printArray(a, n);

    partitionEvenOdd(a, n);

    printf("After partition (Even | Odd):\n");
    printArray(a, n);

    return 0;
}
