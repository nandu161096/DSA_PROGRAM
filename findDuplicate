#include <stdio.h>

int findDuplicate(int a[], int n) {
    int slow, fast;
    slow = fast = a[0];
    do {
        slow = a[slow];
        fast = a[a[fast]];
    } while(slow != fast);
    slow = a[0];
    
    while(slow !=fast) {
        slow = a[slow];
        fast = a[fast];
    }
    return slow;
}

int main() {
    int a[] = {1, 3, 4, 2, 2};
    int n = sizeof(a) / sizeof(a[0]);

    int dup = findDuplicate(a, n);
    printf("Duplicate element is: %d\n", dup);

    return 0;
}
